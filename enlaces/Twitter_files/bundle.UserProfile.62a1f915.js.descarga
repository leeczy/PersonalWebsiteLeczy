(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"0JWC":function(e,t,r){"use strict";r("kYxP");var s=r("KEM+"),n=r.n(s),a=r("PiaM"),i=r("ERkP"),o=r("k49u"),l=r("oEGd");const c={fetchUser:r("G6rE").e.fetchOne};var d=Object(l.b)(c),h=r("QIgh"),u=r("SrtL"),m=r("FIs5"),p=r("oQhu"),f=r("EUHl"),_=r("yoO3"),b=r("fTQJ"),g=r("tocL");class E extends i.PureComponent{constructor(e){super(e),n()(this,"_getApiErrorHandlerMap",()=>{const{fetchUser:e,userId:t}=this.props;return{[o.a.NotAuthorizedToViewUser]:{customAction:()=>e(t)}}}),n()(this,"_renderEmptyState",()=>{const{timelineEmptyMessageFormatter:e,timelineEmptyHeaderFormatter:t,timelineEmptyStateButtonLabel:r,timelineEmptyStateButtonLink:s,screenName:n}=this.props;return i.createElement(m.a,{buttonLink:s,buttonText:r,header:t&&t({screenName:n}),message:e&&e({screenName:n})})}),n()(this,"_reorderPinnedTweets",Object(p.a)(e=>{let t=-1;if(e.forEach((e,r)=>{a.f(e)&&e.content.socialContext&&e.content.socialContext.generalContext&&"string"==typeof e.content.socialContext.generalContext.contextType&&e.content.socialContext.generalContext.contextType===g.a.Pin&&(t=r)}),t>-1){const r=[e[t],...e];return r.splice(t+1,1),r}return e}));const{displayBlocked:t,showWithheldBannerOnMyTweets:r}=e;this._entryConfiguration=Object(h.a)({displayBlocked:t,showWithheldBannerOnMyTweets:r})}UNSAFE_componentWillUpdate(e){e.displayBlocked!==this.props.displayBlocked&&(this._entryConfiguration=Object(h.a)({displayBlocked:e.displayBlocked,showWithheldBannerOnMyTweets:e.showWithheldBannerOnMyTweets}))}render(){const{titleFormatter:e,module:t,timelineTitleFormatter:r,loadingLabelFormatter:s,fetchOptions:n,onEntriesUpdate:a,screenName:o,fullName:l}=this.props,c=e({screenName:o,fullName:l}),d=r({fullName:l}),h=s({screenName:o});return i.createElement(_.a,null,i.createElement(u.a,{title:c}),i.createElement(b.a,{apiErrorHandlerMap:this._getApiErrorHandlerMap(),entryConfiguration:this._entryConfiguration,fetchOptions:n,loadingAccessibilityLabel:h,module:t,newTweetsPillMode:f.a.CLIENT,onEntriesUpdate:a,preprocessEntryList:this._reorderPinnedTweets,refreshControl:null,renderEmptyState:this._renderEmptyState,title:d}))}}n()(E,"defaultProps",{displayBlocked:!1,fetchOptions:{},showWithheldBannerOnMyTweets:!1});t.a=d(E)},"7fPw":function(e,t,r){"use strict";r("IAdD");var s=r("wrlS"),n=r("WpDa"),a=r("ZNT5");t.a=e=>s.b.isTrue("responsive_web_graphql_likes_timeline")?o(e):i(e);const i=e=>Object(a.a)({timelineId:"favorites-"+e,getEndpoint:e=>e.URT.fetchLikes,getEndpointParams:t=>Object.assign({userId:e},t),context:"FETCH_LIKES_TIMELINE",perfKey:"likes"}),o=e=>Object(a.a)({timelineId:"favorites-graphql-"+e,getEndpoint:e=>e.ProfileTimelines.fetchLikes,getEndpointParams:t=>Object.assign({userId:e},t),formatResponse:n.a,context:"FETCH_LIKES_TIMELINE",perfKey:"likes-GraphQL"})},"8KtR":function(e,t,r){"use strict";r.r(t);r("kYxP");var s=r("KEM+"),n=r.n(s),a=r("ERkP"),i=r("v6aA"),o=r("I7xG"),l=r("3XMw"),c=r.n(l),d=r("txMZ"),h=r("0JWC"),u=r("SRyb");const m=c.a.c6ea308b,p=c.a.e021c003,f=c.a.ccc9153f,_=c.a.dc1f8991,b=()=>c.a.e4f9514c,g=()=>c.a.a9efb44c,E=()=>c.a.e63db400,y=c.a.j0a37206,w=c.a.cc01c9b5;class S extends a.Component{constructor(...e){super(...e),n()(this,"_getModule",Object(o.a)(this,e=>e.userId,e=>e.withReplies,(e,t)=>Object(u.a)(this.context.featureSwitches,e,t)))}render(){const{displayBlocked:e,fullName:t,onEntriesUpdate:r,screenName:s,userId:n,withReplies:i}=this.props,o=this._getModule(),l=this.context.loggedInUserId===n,c=l?E:b,u=l?g:_,S=l?y:void 0;return a.createElement(d.a,{scribeSection:i?"tweets_and_replies":"tweets",userId:n},({scribeNamespace:l})=>a.createElement(h.a,{displayBlocked:e,fullName:t,loadingLabelFormatter:f,module:o,onEntriesUpdate:r,screenName:s,scribeNamespace:l,timelineEmptyHeaderFormatter:u,timelineEmptyMessageFormatter:c,timelineEmptyStateButtonLabel:S,timelineEmptyStateButtonLink:"/compose/tweet",timelineTitleFormatter:w,titleFormatter:i?p:m,userId:n}))}_isLoggedIn(){return!!this.context.loggedInUserId}}n()(S,"contextType",i.a),n()(S,"defaultProps",{displayBlocked:!1,withReplies:!1}),t.default=S},ivpD:function(e,t,r){"use strict";r.r(t),r.d(t,"UserLikesScreen",(function(){return E}));var s=r("KEM+"),n=r.n(s),a=r("ERkP"),i=r("v6aA"),o=r("3XMw"),l=r.n(o),c=r("txMZ"),d=r("0JWC"),h=r("7fPw");const u=l.a.d7c03c5d,m=l.a.a64da953,p=l.a.a2f22d2c,f=()=>l.a.g15d5e9b,_=()=>l.a.bb0e41bc,b=()=>l.a.bf15f5b6,g=l.a.f11f6624;class E extends a.Component{render(){const{displayBlocked:e,fullName:t,screenName:r,userId:s}=this.props,n=this.context.loggedInUserId===s,i=n?b:f,o=n?_:p;return a.createElement(c.a,{scribeSection:"likes",userId:s},({scribeNamespace:n})=>a.createElement(d.a,{displayBlocked:e,fullName:t,loadingLabelFormatter:m,module:Object(h.a)(s),screenName:r,scribeNamespace:n,timelineEmptyHeaderFormatter:o,timelineEmptyMessageFormatter:i,timelineTitleFormatter:g,titleFormatter:u,userId:s}))}}n()(E,"contextType",i.a),n()(E,"defaultProps",{displayBlocked:!1}),t.default=E},"ll/Q":function(e,t,r){"use strict";r.r(t),r.d(t,"UserProfileScreenContainer",(function(){return ur}));var s=r("97Jx"),n=r.n(s),a=r("ERkP"),i=(r("x4t0"),r("WNMA"),r("P1r1")),o=r("oEGd"),l=r("0KEI"),c=r("hqKg"),d=r("zh9S"),h=r("QK5w"),u=r("G6rE");const m=(e,t)=>{const{location:r,match:s}=t;return s&&s.params&&s.params.screenName?s.params.screenName:r&&r.query&&r.query.screen_name&&"string"==typeof r.query.screen_name?r.query.screen_name:""},p=(e,t)=>u.e.selectByScreenName(e,m(0,t)),f=Object(u.g)([u.a]),_=Object(c.createSelector)(h.a,i.l,(e,t)=>f(e,m(0,t)),(e,t)=>t.location.pathname.includes("/intent/"),(e,t)=>u.e.selectIsUserNotFound(e,m(0,t)),(e,t)=>{const r=p(e,t);return!!r&&u.e.selectIsLoading(e,r.id_str)},(e,t)=>u.e.selectIsUserSuspended(e,m(0,t)),(e,t)=>u.e.selectIsUserWithheld(e,m(0,t)),(e,t)=>{const{location:r}=t,{promotedTweetState:s}=r&&r.state||{},n=p(e,t);return s||n&&n.promoted_content},m,p,(e,t)=>{const r=p(e,t);return r&&r.profile_interstitial_type?r.profile_interstitial_type:null},(e,t,r,s,n,a,i,o,l,c,d,h)=>({displaySensitiveMedia:t,fetchStatus:r,isInitialScreen:!e,isIntentRoute:s,isNotFound:n,isRefreshing:a,isSuspended:i,isWithheld:o,promotedContent:l,screenName:c,user:d,userProfileInterstitialType:h})),b={createLocalApiErrorHandler:Object(l.d)("USER_PROFILE_SCREEN"),fetchOneUser:u.e.fetchOne,fetchOneByScreenNameWithExtraFieldsIfNeeded:u.e.createFetchOneByScreenNameWithExtraFieldsIfNeeded([u.a,u.b,u.c,u.d]),fetchSettingsIfNeeded:i.e,scribeAction:d.c};var g=Object(o.g)(_,b),E=r("txMZ"),y=(r("jQ/y"),r("IAdD"),r("JtPf"),r("kYxP"),r("KEM+")),w=r.n(y),S=r("aeN7"),I=r("s4rk"),C=r("zI2C"),P=r("v6aA"),x=r("6ZtA"),k=r("es0u"),O=r("tOzk"),T=r("I/ms"),N=r("1YZw"),B=r("rxPX");var F=Object(B.a)().propsFromActions(()=>({addToast:N.b,createLocalApiErrorHandler:Object(l.d)("USER_PROFILE_HEADER"),scribeAction:d.c,unmute:u.e.unmute})),U=r("7JQg"),v=r("3nOA"),L=r("7wqI"),R=r("I57f"),M=r("RgK2"),A=r.n(M),j=r("uIZp"),D=r("3XMw"),W=r.n(D),H=r("W27K"),V=r("vYiB"),$=r("zb92"),q=Object($.a)({loader:()=>r.e(143).then(r.bind(null,"Gffe"))}),G=r("Je1/"),K=r("Jkc4"),z=r("mkhj"),Q=r("RCZO"),J=r("EJJl"),Y=r("/yvb"),X=r("FRoe"),Z=r("vMjK");const ee=W.a.h63a5c3b,te=a.createElement(X.a,null);class re extends a.PureComponent{constructor(...e){super(...e),w()(this,"_renderUserMenu",e=>{const{promotedContent:t,user:r}=this.props;return a.createElement(Z.b,{onClose:e,promotedContent:t,user:r})})}render(){const{buttonStyle:e}=this.props;return a.createElement(Y.a,{accessibilityLabel:ee,icon:te,renderMenu:this._renderUserMenu,style:e,testID:z.a.userActions,type:"secondary"})}}var se=r("WWyu"),ne=r("LhSm"),ae=r("A7Fw"),ie=r("Irs7"),oe=r("MWbm"),le=r("t62R"),ce=r("rHpw");const de=W.a.e839db39,he=W.a.jd0daa47,ue=W.a.f15bfdb3,me=W.a.i859a9d3,pe=ce.a.create(e=>({content:{padding:e.spaces.medium},icon:{color:e.colors.badgeColor,fontSize:e.fontSizes.jumbo},button:{marginTop:e.spaces.large},text:{marginTop:e.spaces.xSmall,textAlign:"center"}}));var fe=({dismiss:e,type:t})=>{const r=Object(ie.b)();a.useEffect(()=>{r.scribe({component:"blue_badge_education_context",action:"show"})},[r]);const s=a.useCallback(()=>{r.scribe({component:"blue_badge_education_context",element:"support_url",action:"click"})},[r]);return a.createElement(oe.a,{style:pe.content},a.createElement(ae.a,{style:pe.icon}),a.createElement(le.c,{size:"xLarge",style:pe.text,weight:"bold"},ue),a.createElement(le.c,{color:"gray600",style:pe.text},he," ",a.createElement(le.c,{link:"https://help.twitter.com/managing-your-account/about-twitter-verified-accounts",onClick:s},me)),"sheet"===t?a.createElement(Y.a,{onClick:e,style:pe.button,type:"neutral"},de):null)},_e=r("TIdA"),be=r("cHvH"),ge=r("oSwX"),Ee=r("n4Eu"),ye=r("cm6r"),we=r("A91F"),Se=r("9Xij"),Ie=r("jV+4"),Ce=r("ir4X"),Pe=r("wCd/"),xe=r("eb3s"),ke=r("P2xQ"),Oe=r("SOvA"),Te=r("KrGU"),Ne=r("I/9y"),Be=r("YUdS"),Fe=r("EjKN"),Ue=r("mN6z"),ve=r("YeIG");const Le=W.a.g7088266,Re=W.a.gd7acb84,Me=W.a.b7636014,Ae=W.a.cef4e8cf,je=W.a.ec294e62,De=W.a.df422dfe,We=W.a.a1ea2f12,He=W.a.g8191e77,Ve=a.createElement(Oe.a,null),$e=_e.a.createLayoutCache(),qe=_e.a.createLayoutCache();class Ge extends a.Component{constructor(e,t){super(e,t),w()(this,"_getUnmuteSuccessMessage",ke.d.bind(null,this.context.featureSwitches)),w()(this,"_canClickBlueBadge",this.context.featureSwitches.isTrue("identity_verification_educational_prompt_enabled")),w()(this,"_isBirthdayToday",e=>{const{day:t,month:r}=e;if(!t||!r)return;const s=new Date;return r===s.getMonth()+1&&t===s.getDate()}),w()(this,"_setBalloonsRef",e=>{this._balloonsRef=e}),w()(this,"_handleLaunchBalloons",()=>{this._balloonsRef&&this._balloonsRef.launch()}),w()(this,"_renderVerificationBadgeEducationContext",(e,t)=>a.createElement(fe,{dismiss:e,type:t})),w()(this,"_handleRemoveClusterFollow",()=>{this.setState({shouldShowClusterFollow:!1})}),w()(this,"_handleMessageButtonPress",()=>{const{scribeAction:e,scribeNamespace:t}=this.props;e(Object.assign({},t,{element:"message",action:"click"})),this._messageUser()}),w()(this,"_handleUnmute",()=>{this.setState({showUnmuteConfirmation:!0})}),w()(this,"_handleUnmuteCancel",()=>{this.setState({showUnmuteConfirmation:!1})}),w()(this,"_handleUnmuteConfirm",()=>{const{addToast:e,createLocalApiErrorHandler:t,unmute:r,user:s}=this.props;this.setState({showUnmuteConfirmation:!1}),r(s.id_str).then(()=>e({text:this._getUnmuteSuccessMessage(s.screen_name)}),t({showToast:!0}))}),this.state={shouldShowClusterFollow:!1,showUnmuteConfirmation:!1}}shouldComponentUpdate(e,t){return!Object(Ue.a)(t,this.state)||!Object(Ue.a)(e,this.props)}componentDidUpdate(e){!0===this.props.user.following&&!1===e.user.following&&this.setState({shouldShowClusterFollow:!0}),this.props.user.id_str!==e.user.id_str&&this.setState({shouldShowClusterFollow:!1})}render(){const{isWithheld:e,loggedInUserId:t,user:r}=this.props,s=!this._isOwnProfile()&&(r.blocking||r.blocked_by||e),n=!this._isOwnProfile()&&(r.blocked_by||e),i=!t||this._isOwnProfile()||r.blocking||r.blocked_by||e||r.protected&&!r.following;return a.createElement(oe.a,null,this._renderBanner(r),a.createElement(oe.a,{style:[T.a.content,Ke.content,s&&T.a.withheld]},a.createElement(oe.a,{style:Ke.avatarAndButtons},this._renderAvatar(),this._renderButtons()),this._renderNames(),s?null:this._renderDetails(),n?null:this._renderStats(),i?null:a.createElement(oe.a,{style:Ke.marginTopXSmall},a.createElement(H.a,{userId:r.id_str,userScreenName:r.screen_name})),this._renderMute()),this.state.shouldShowClusterFollow?this._renderProfileClusterFollow():null)}_isOwnProfile(){const{loggedInUserId:e,user:{id_str:t}}=this.props;return e===t}_renderAvatar(){const{isWithheld:e,user:t}=this.props,r=!this._isOwnProfile()&&e,s=r||!t.profile_image_url_https?void 0:t.profile_image_url_https;return a.createElement(be.a,null,({windowWidth:e})=>a.createElement(ge.default,{imageLayoutCache:$e,link:r?void 0:{pathname:`/${t.screen_name}/photo`},size:"custom",style:[T.a.avatar,e>=ce.a.theme.breakpoints.medium?T.a.wideAvatar:T.a.narrowAvatar],uri:s}))}_renderBanner(e){const{isWithheld:t}=this.props,r=!this._isOwnProfile()&&t,s=e.profile_banner_extensions_media_color&&e.profile_banner_extensions_media_color.palette,n=s&&Ee.a.get(s),i=n?Object(Q.g)(n):ce.a.theme.colors.gray200;return!r&&e.profile_banner_url?a.createElement(ye.a,{importantForAccessibility:"no-hide-descendants",link:`/${e.screen_name}/header_photo`},a.createElement(_e.a,{accessibilityLabel:"",aspectMode:we.a.exact(ce.a.theme.aspectRatios.profileBanner),backgroundColor:i,image:e.profile_banner_url,layoutCache:qe})):a.createElement(oe.a,{style:T.a.banner},a.createElement(Se.a,{ratio:ce.a.theme.aspectRatios.profileBanner,style:[{backgroundColor:i}]}))}_renderButtons(){const{isWithheld:e,loggedInUserId:t,onFollowButtonOffscreen:r,promotedContent:s,user:n}=this.props,i=n.blocked_by,o=n.blocking,l=this._isOwnProfile(),c=e&&!l,d=n.can_dm&&t&&!o&&!i&&!c,h=t&&n&&!l&&!c,u=n.following&&t&&!o&&!i&&!e,m=this._shouldLaunchProfileOcfFlow();return a.createElement(oe.a,{style:Ke.buttons},t&&l?a.createElement(Y.a,{link:m?"/i/flow/setup_profile":"/settings/profile",style:Ke.lastButton,type:"secondary"},m?Re:Le):null,h&&a.createElement(re,{buttonStyle:Ke.button,promotedContent:s,user:n}),!l&&d&&a.createElement(Y.a,{accessibilityLabel:Me,icon:Ve,onPress:this._handleMessageButtonPress,style:Ke.button,testID:z.a.sendDMFromProfile,type:"secondary"}),!l&&u&&a.createElement(R.a,{allowPromptForPush:!0,isFollowing:n.notifications,style:Ke.button,userId:n.id_str}),!l&&!i&&!c&&a.createElement(V.a,{onOffscreenChange:r},a.createElement(j.a,{promotedContent:s,style:Ke.lastButton,userId:n.id_str})))}_renderDetails(){var e,t,r;const{user:s}=this.props,n=null==(e=s.entities)||null==(t=e.url)||null==(r=t.urls)?void 0:r[0],i=s.birthdate;return a.createElement(a.Fragment,null,s.description?a.createElement(oe.a,{style:Ke.description},a.createElement(J.a,{description:s.description,disableTranslation:!s.is_profile_translatable,entities:s.entities,testID:z.a.userDescription,userId:s.id_str,withheldDescription:s.withheld_description,withheldEntities:s.withheld_entities})):null,a.createElement(oe.a,{style:Ke.details},a.createElement(le.c,{style:Ke.detailsText,testID:z.a.profileHeaderItems},s.location?a.createElement(G.a,{Icon:Te.a},a.createElement(le.c,null,s.location)):null,n&&n.url?a.createElement(G.a,{Icon:Ne.a,link:{pathname:n.url,external:!0}},n.display_url||n.url):null,!i||Object(ve.a)(i)||i.visibility&&"self"===i.visibility.toLowerCase()&&i.year_visibility&&"self"===i.year_visibility.toLowerCase()?null:this._isBirthdayToday(i)?a.createElement(a.Fragment,null,a.createElement(G.a,{Icon:Be.a,onPress:this._handleLaunchBalloons},this._isOwnProfile()?We:He),a.createElement(O.a,{setRef:this._setBalloonsRef})):a.createElement(G.a,{Icon:Fe.a},a.createElement(se.a,{birthdate:i,withBornPrefixText:!0})),a.createElement(ne.a,{joinDate:s.created_at}))))}_renderNames(){const{isWithheld:e,user:t}=this.props,r=e?A.a:{isProtected:!!t.protected,isVerified:!!t.verified,translatorType:t.translator_type},s=t.name&&t.screen_name&&!(e&&!this._isOwnProfile()),i=s?t.name:"@"+t.screen_name;return a.createElement(oe.a,{style:T.a.names},a.createElement(Ie.a,n()({},r,{badgeContext:"account",name:i,nameSize:"large",renderVerifiedBadgeContext:this._canClickBlueBadge?this._renderVerificationBadgeEducationContext:void 0,screenName:s?t.screen_name:void 0,weight:"heavy",withFollowsYou:t.followed_by&&!e,withNameWrap:!0,withStackedLayout:!0})),t.highlightedLabel?a.createElement(Ce.a,{label:t.highlightedLabel}):null)}_renderStats(){const e=this.props.user,{followers_count:t,friends_count:r,id_str:s,screen_name:n}=e,{loggedInUserId:i}=this.context,o=i===s;return a.createElement(K.a,null,s=>a.createElement(Pe.a,{followersCount:t,friendsCount:r,onPress:s(),screenName:n,withLink:Object(L.b)({isOwnProfile:o,user:e})}))}_renderMute(){const{user:e}=this.props,{screen_name:t}=e;return e.muting?a.createElement(a.Fragment,null,a.createElement(le.c,{color:"gray600",style:Ke.mute},De,"Â ",a.createElement(le.c,{accessibilityRole:"button",color:"link",onPress:this._handleUnmute,style:{cursor:"pointer"},testID:z.a.unmuteLink,withInteractiveStyling:!0},ke.h)),this.state.showUnmuteConfirmation?a.createElement(xe.a,{confirmButtonLabel:ke.h,headline:Ae({screenName:t}),onCancel:this._handleUnmuteCancel,onConfirm:this._handleUnmuteConfirm,text:je}):null):null}_renderProfileClusterFollow(){const{user:e}=this.props;return a.createElement(q,{onRemoveClusterFollow:this._handleRemoveClusterFollow,userId:e.id_str})}_shouldLaunchProfileOcfFlow(){const{user:e}=this.props;return e.default_profile_image&&!e.description&&!e.profile_banner_url}_messageUser(){const{history:e,loggedInUserId:t,user:{id_str:r}}=this.props;t&&e.push("/messages/"+Object(v.a)(r,t))}}w()(Ge,"contextType",P.a);const Ke=ce.a.create(e=>({avatarAndButtons:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap"},buttons:{maxWidth:"100%",flexDirection:"row",justifyContent:"flex-start",alignItems:"flex-end",flexWrap:"wrap"},button:{marginEnd:e.spaces.xSmall,marginBottom:e.spaces.xSmall},lastButton:{marginBottom:e.spaces.xSmall},content:{marginBottom:e.spaces.small},icon:{color:e.colors.gray600,marginEnd:e.spaces.xxSmall},url:{lineHeight:"1.5"},description:{display:"block",marginBottom:e.spaces.xSmall},details:{display:"block",marginBottom:e.spaces.xSmall},marginTopXSmall:{marginTop:e.spaces.xSmall},mute:{marginVertical:e.spaces.xSmall},detailsText:{lineHeight:e.spaces.xSmall}}));var ze=Object(U.c)({page:"profile",section:"header"})(F(Ge)),Qe=r("8UdT"),Je=r("dwig"),Ye=r("GOQE"),Xe=r("kGix"),Ze=r("v//M"),et=r("0+qk"),tt=r("SrIh"),rt=r("ipry");const st=W.a.cb339f26,nt=W.a.hf06085d,at=W.a.aa959f36,it=W.a.hf06085d,ot=W.a.jf604336,lt=W.a.c9bfda48,ct=W.a.jf604336,dt=W.a.b9a9cbdb,ht=W.a.aa959f36,ut=W.a.i622ef86,mt={default:st,fake_account:at,offensive_profile_content:ot,sensitive_media:ct,timeout:ht},pt={default:nt,fake_account:it,offensive_profile_content:lt,sensitive_media:dt,timeout:ut};var ft=r("iFPY"),_t=r("oQhu"),bt=r("rJoH"),gt=r("Y6L+"),Et=r("jS2K"),yt=r("IG4P");class wt extends a.Component{shouldComponentUpdate(e){return!Object(Ue.a)(e,this.props)}render(){const{shouldDisplayUserActionSheet:e,fullUser:t}=this.props;return a.createElement(oe.a,null,this._renderBanner(),a.createElement(oe.a,{style:[T.a.content,T.a.withheld]},a.createElement(oe.a,{style:T.a.avatarAndButton},this._renderAvatar(),e&&t&&a.createElement(re,{buttonStyle:T.a.menuSheetButton,user:t})),this._renderNames()))}_renderAvatar(){const{avatarAccessibilityLabel:e}=this.props;return a.createElement(be.a,null,({windowWidth:t})=>a.createElement(oe.a,{accessibilityState:{hidden:!0},style:[T.a.avatar,t>=ce.a.theme.breakpoints.medium?T.a.wideAvatar:T.a.narrowAvatar]},a.createElement(ge.default,{accessibilityLabel:e,size:"custom"})))}_renderBanner(){return a.createElement(oe.a,{style:T.a.banner},a.createElement(Se.a,{ratio:ce.a.theme.aspectRatios.profileBanner}))}_renderNames(){const{fullUser:e,restrictedUser:t}=this.props,r=e||t,s=r.name&&r.screen_name,n=s?r.name:"@"+r.screen_name;return a.createElement(oe.a,{style:T.a.names},a.createElement(Ie.a,{name:n,nameSize:"large",screenName:s?r.screen_name:void 0,withStackedLayout:!0}))}}var St=r("wytG"),It=r("VS6U"),Ct=r("Qayx"),Pt=r("G8HL"),xt=r("mw9i"),kt=r("zfvc"),Ot=r("FIs5"),Tt=r("Q0VY"),Nt=r("FiRh"),Bt=r("0yYu"),Ft=r("k/OQ"),Ut=r("zCf4");const vt=W.a.h1658541,Lt=W.a.b5447710,Rt=W.a.fa98627a,Mt=W.a.a2811f96,At=W.a.c6ea308b,jt=W.a.d67658c0,Dt=W.a.ccc9153f,Wt=W.a.bab1f8b0,Ht=W.a.a52b03a5,Vt=W.a.add55c97,$t=W.a.d7b8eba9,qt=W.a.ica87fde,Gt=W.a.e79ed125,Kt=W.a.g8475f82,zt=W.a.c9a1cb5d,Qt=W.a.e7b201dd,Jt=W.a.d09e12c4,Yt=W.a.gbf342a4,Xt=W.a.eeab4adf,Zt=W.a.d834ab9c,er={section:"profile_interstitial"},tr=Object(St.a)(()=>Promise.resolve().then(r.bind(null,"8KtR"))),rr=Object(St.a)(()=>Promise.resolve().then(r.bind(null,"ivpD"))),sr=Object(St.a)(()=>Promise.resolve().then(r.bind(null,"ylAD"))),nr="likes",ar="media",ir="with_replies",or=Object(_t.a)(e=>()=>({defaultText:e}));class lr extends a.Component{constructor(e,t){super(e,t),w()(this,"_renderContainer",()=>{const{fetchStatus:e,isRefreshing:t,isSuspended:r,screenName:s,isNotFound:n}=this.props,i=r||n;return a.createElement(yt.a,{isRefreshing:t,onRefresh:this._handlePullToRefresh},a.createElement(oe.a,{style:dr.containerGrow},a.createElement(xt.a,null,a.createElement(Ze.a,{accessibilityLabel:Dt({screenName:s}),fetchStatus:i?Xe.a.LOADED:e,onRequestRetry:this._handleRequestRetry,render:this._renderHeaderAndContent}))))}),w()(this,"_renderHeaderAndContent",()=>a.createElement(a.Fragment,null,this._renderHeader(),this._renderContent())),w()(this,"_renderContent",()=>{const{isSuspended:e,isWithheld:t,user:r,isNotFound:s}=this.props,{showBlockedTweets:n}=this.state,a=this._isViewingOwnProfile();return e?this._renderUserProfileSuspended():s?this._renderUserNotFound():t&&a?this._renderLoggedInUserProfileWithheld():t?this._renderUserProfileWithheld():this._shouldShowProfileInterstitial()?this._renderUserProfileInterstitialed():r&&r.blocked_by?this._renderUserProfileBlockedBy():r&&r.blocking&&!n?this._renderUserProfileBlocking():this._isProtectedFromViewer()?this._renderUserProfileProtected():this._renderUserProfileDefault()}),w()(this,"_isGraphQL",()=>!0===this.context.featureSwitches.getValueWithoutScribeImpression("responsive_web_graphql_profile_timeline")),w()(this,"_isViewingOwnProfile",()=>{const{loggedInUserId:e}=this.context,{user:t}=this.props;return t&&e===t.id_str}),w()(this,"_shouldShowProfileInterstitial",(e=this.props.userProfileInterstitialType)=>{const{displaySensitiveMedia:t,user:r}=this.props;if(!r||!e)return!1;const{showBlockedTweets:s,userProfileInterstitialDismissed:n}=this.state,a=r.blocking&&!s,i=r.blocked_by,o=(e===rt.a.SensitiveMedia||e===rt.a.OffensiveProfileContent)&&(r.following||t);return!(this._isViewingOwnProfile()||this._isProtectedFromViewer()||a||i||n||o)}),w()(this,"_isProtectedFromViewer",()=>{const{user:e}=this.props;return e&&e.protected&&!this._isViewingOwnProfile()&&!e.following}),w()(this,"_handleRequestRetry",()=>{this._fetchOneUserIfNeeded(this.props)}),w()(this,"_handlePullToRefresh",()=>{const{user:e}=this.props;e?this._fetchOneUser(e.id_str):this._fetchOneUserIfNeeded(this.props)}),w()(this,"_handleShowBlockedTweets",()=>{this.setState({showBlockedTweets:!0})}),w()(this,"_handleOnConfirmProfileInterstitial",()=>{const{scribeAction:e,scribeNamespace:t}=this.props;this.setState({userProfileInterstitialDismissed:!0}),e(Object.assign({},t,er,{action:"click"}))}),w()(this,"_handleEntriesUpdate",({entries:e,fetchStatus:t})=>{const{recordTTFL:r}=this.props;if(t===Xe.a.FAILED&&(this._shouldRecordTTFL=!1),this._shouldRecordTTFL&&e.length){const t=e.some(({type:e})=>e===Qe.b.Tweet);this._shouldRecordTTFL=!1;const s={source:this._isGraphQL()?"graphql":"rest"};t&&r("profile",s)}}),w()(this,"_handleFollowButtonOffscreen",({isOffscreen:e})=>{this.setState({showFollowButtonRightControl:e})}),this._shouldRecordTTFL=e.isInitialScreen,this._shouldRecordTTFMC=e.isInitialScreen,this.state={userProfileInterstitialDismissed:!1,showBlockedTweets:!1,showFollowButtonRightControl:!1}}UNSAFE_componentWillMount(){const{createLocalApiErrorHandler:e,fetchSettingsIfNeeded:t,scribeAction:r,scribeNamespace:s}=this.props;this._fetchOneUserIfNeeded(this.props),t().catch(e()).then(()=>{this._shouldShowProfileInterstitial()&&r(Object.assign({},s,er,{action:"impression"}))})}componentDidUpdate(e){const{fetchStatus:t,recordTTFMC:r}=this.props;if(e.fetchStatus!==t&&t===Xe.a.FAILED)this._shouldRecordTTFMC=!1;else if(this._shouldRecordTTFMC&&e.fetchStatus!==t&&t===Xe.a.LOADED&&this._isValidProfile()){r("profile",{source:this._isGraphQL()?"graphql":"rest"}),this._shouldRecordTTFMC=!1}e.user&&!e.user.blocking&&this.props.user&&this.props.user.blocking&&(window.scrollTo(0,0),this.setState({showBlockedTweets:!1}))}UNSAFE_componentWillReceiveProps(e){const{screenName:t,scribeAction:r,scribeNamespace:s,userProfileInterstitialType:n}=this.props;e.screenName!==t?(this._fetchOneUserIfNeeded(e),this.setState({userProfileInterstitialDismissed:!1})):!n&&this._shouldShowProfileInterstitial(e.userProfileInterstitialType)&&r(Object.assign({},s,er,{action:"impression"}))}render(){const{loggedInUserId:e}=this.context,{fetchStatus:t,history:r,isSuspended:s,location:n,screenName:i,user:o,isIntentRoute:l,isNotFound:c,isWithheld:d}=this.props,h=this._isViewingOwnProfile(),u=s||c||d&&!h,m=o?At({screenName:o.screen_name,fullName:o.name}):void 0,p=h?"":`@${o&&o.screen_name||i||""} `,f=u?null:a.createElement(et.a,{getLocationState:or(p),history:r}),_=o&&!u?a.createElement(Ie.a,{isProtected:o.protected,isVerified:o.verified,name:o.name,screenName:o.screen_name,weight:"heavy",withScreenName:!1}):Rt,b=o&&!u&&t===Xe.a.LOADED?this._renderSubtitle(o):void 0,g=o&&"twitter://user?screen_name="+o.screen_name,E=o&&"https://twitter.com/"+(o.screen_name||""),y=o&&jt({fullName:o.name,screenName:o.screen_name});return a.createElement(It.a,{backLocation:"/",composeOptions:{defaultText:p},documentTitle:m,history:r,primaryContent:a.createElement(Je.a,{fab:f},a.createElement(bt.a,{canonical:E,description:null==o?void 0:o.description,image:null==o?void 0:o.profile_image_url_https,title:y,type:"profile"}),a.createElement(C.a,{deepLink:g}),a.createElement(x.a,{loggedInUserId:e,pageType:"profile"}),E?a.createElement(I.a,{canonical:E}):null,a.createElement(Ze.a,{accessibilityLabel:Dt({screenName:i}),fetchStatus:o||u?Xe.a.LOADED:t,onRequestRetry:this._handleRequestRetry,render:this._renderContainer}),l?a.createElement(ft.a,{history:r,location:n,userId:null==o?void 0:o.id_str}):null),rightControl:this._renderRightControl(),sidebarContent:this._renderSidebarContent(),subtitle:b,title:_})}_renderRightControl(){const{promotedContent:e,user:t}=this.props,{showFollowButtonRightControl:r}=this.state;return t&&!this._isViewingOwnProfile()?a.createElement(kt.b,{animateMount:!0,show:r,type:"fade"},a.createElement(j.a,{promotedContent:e,userId:t.id_str})):void 0}_renderSubtitle(e){const{location:t}=this.props,r=t.pathname.toLowerCase(),s=e.screen_name.toLowerCase();return r.indexOf(`/${s}/${nr}`)>-1?a.createElement(Ct.a,{count:e.favourites_count,type:"likes"}):r.indexOf(`/${s}/${ar}`)>-1?a.createElement(Ct.a,{count:e.media_count,type:"media"}):a.createElement(Ct.a,{count:e.statuses_count,type:"tweets"})}_renderSidebarContent(){const{user:e}=this.props;return e?a.createElement(Et.a,{hideMediaModule:this._shouldHideMediaModule(),userId:e.id_str}):a.createElement(k.a,null)}_renderHeader(){const{loggedInUserId:e}=this.context,{isNotFound:t,isSuspended:r,isWithheld:s,location:n,history:a,promotedContent:i,screenName:o,profileHeaderRenderer:l,restrictedProfileHeaderRenderer:c,user:d}=this.props,h=this._shouldShowProfileInterstitial();if(!this._isViewingOwnProfile()&&(r||t||h)){const{name:e}=d||{};return c({shouldDisplayUserActionSheet:!r&&!t,avatarAccessibilityLabel:t?Lt:r?vt:e,fullUser:d,restrictedUser:{name:e,screen_name:o||""}})}return l({history:a,loggedInUserId:e,isWithheld:s,location:n,onFollowButtonOffscreen:this._handleFollowButtonOffscreen,promotedContent:i,user:d})}_renderEmptyState({header:e,message:t,buttonText:r,onButtonPress:s}){return a.createElement(Ot.a,{buttonText:r,buttonType:"secondary",header:e,message:t,onButtonPress:s,style:hr.root})}_renderUserProfileInterstitialed(){const{userProfileInterstitialType:e}=this.props,{header:t,message:r}=(e=>e&&Object.values(rt.a).indexOf(e)>=0?{header:mt[e],message:pt[e]}:(Object(tt.a)("Unrecognized Profile Interstitial Type: "+String(e)),{header:mt.default,message:pt.default}))(e);return this._renderEmptyState({header:t,message:r,buttonText:Zt,onButtonPress:this._handleOnConfirmProfileInterstitial})}_renderUserProfileBlocking(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=Gt({screenName:t}),s=a.createElement(W.a.I18NFormatMessage,{$i18n:"e645092a",screenName:t},a.createElement(le.c,{link:"https://support.twitter.com/articles/117063"},W.a.f6a72a2a));return this._renderEmptyState({header:r,message:s,buttonText:Xt,onButtonPress:this._handleShowBlockedTweets})}_renderUserProfileBlockedBy(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=a.createElement(W.a.I18NFormatMessage,{$i18n:"ccade2e6",screenName:t},a.createElement(le.c,{link:"https://support.twitter.com/articles/20172060"},W.a.de078c23));return this._renderEmptyState({header:qt,message:r})}_renderUserProfileSuspended(){const e=a.createElement(W.a.I18NFormatMessage,{$i18n:"f6fa2033"},a.createElement(le.c,{link:"https://support.twitter.com/articles/18311"},W.a.f3b1bdc1));return this._renderEmptyState({header:Kt,message:e})}_renderUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{id_str:t,description:r,entities:s}=e;if(!r)return null;const n=Tt.a.descriptionTextParts(r,s),i=a.createElement(le.c,{align:"center",color:"gray600",dir:"auto"},n.map((e,r)=>a.createElement(Nt.b,{key:`user_${t}_textpart_${r}`,linkify:!0,part:e})));return this._renderEmptyState({header:Yt,message:i})}_renderLoggedInUserProfileWithheld(){const{user:e}=this.props;if(!e)return null;const{id_str:t,description:r,entities:s}=e;if(!r)return null;const n=Tt.a.descriptionTextParts(r,s);return a.createElement(oe.a,null,a.createElement(oe.a,{style:dr.withheldMessageRoot},a.createElement(le.c,{align:"center",size:"xLarge",style:dr.withheldMessageHeader,weight:"bold"},Yt),a.createElement(le.c,{align:"center",color:"gray600",dir:"auto"},n.map((e,r)=>a.createElement(Nt.b,{key:`user_${t}_textpart_${r}`,linkify:!0,part:e})))),a.createElement(Bt.a,null),this._renderUserProfileDefault())}_renderUserProfileProtected(){const{user:e}=this.props;if(!e)return null;const{screen_name:t}=e,r=a.createElement(W.a.I18NFormatMessage,{$i18n:"c97724c2",screenName:t},a.createElement(le.c,{link:"https://support.twitter.com/articles/14016"},W.a.a58c8a4e));return this._renderEmptyState({header:Jt,message:r})}_renderUserNotFound(){return this._renderEmptyState({header:zt,message:Qt})}_renderUserProfileDefault(){const{user:e,history:{location:t}}=this.props;if(!e)return null;const{screen_name:r}=e,{showBlockedTweets:s}=this.state,i=t.query,o=e=>[{isActive:()=>t.pathname.toLowerCase()===("/"+r).toLowerCase()||t.pathname.toLowerCase()===`/${r}/`.toLowerCase()||t.pathname.indexOf("/intent/follow")>-1||t.pathname.indexOf("/intent/user")>-1,to:{pathname:"/"+r,query:i},label:Wt},{to:{pathname:`/${r}/${ir}`,query:i},label:Ht},{to:{pathname:`/${r}/${ar}`,query:i},label:Vt,onClick:e()},{to:{pathname:`/${r}/${nr}`,query:i},label:$t,onClick:e()}],l={displayBlocked:s,fullName:e.name,screenName:e.screen_name,userId:e.id_str};return a.createElement(a.Fragment,null,a.createElement(K.a,null,e=>a.createElement(Ft.a,{accessibilityLabel:Mt,links:o(e)})),a.createElement(Ut.d,null,a.createElement(Ut.b,{exact:!0,path:"/intent/follow"},a.createElement(tr,l)),a.createElement(Ut.b,{exact:!0,path:"/intent/user"},a.createElement(tr,l)),a.createElement(Ut.b,{exact:!0,path:"/"+gt.B},a.createElement(tr,n()({},l,{onEntriesUpdate:this._handleEntriesUpdate}))),a.createElement(Ut.b,{exact:!0,path:`/${gt.B}/${ir}`},a.createElement(tr,n()({},l,{withReplies:!0}))),a.createElement(Ut.b,{exact:!0,path:`/${gt.B}/${ar}`},a.createElement(sr,l)),a.createElement(Ut.b,{exact:!0,path:`/${gt.B}/${nr}`},a.createElement(rr,l))))}_fetchOneUserIfNeeded(e){const{createLocalApiErrorHandler:t,fetchOneByScreenNameWithExtraFieldsIfNeeded:r,screenName:s}=e;s&&r(s).catch(t(Ye.a))}_fetchOneUser(e){const{createLocalApiErrorHandler:t,fetchOneUser:r}=this.props;return r(e).catch(t(Ye.a))}_shouldHideMediaModule(){const{user:e}=this.props;return this._shouldShowProfileInterstitial()||e&&(e.blocked_by||e.blocking&&!this.state.showBlockedTweets)}_isValidProfile(){const{isNotFound:e,isSuspended:t,isWithheld:r,user:s}=this.props;return s&&!s.blocking&&!s.blocked_by&&!this._isViewingOwnProfile()&&!this._isProtectedFromViewer()&&!t&&!e&&!r&&!this._shouldShowProfileInterstitial()}}w()(lr,"contextType",P.a),w()(lr,"defaultProps",{profileHeaderRenderer:(e={})=>a.createElement(ze,e),restrictedProfileHeaderRenderer:e=>a.createElement(wt,e),recordTTFL:S.c,recordTTFMC:S.d});var cr=Object(Pt.a)(lr);const dr=ce.a.create(e=>({containerGrow:{flexGrow:1},rightControlContainer:{flexDirection:"row",flexGrow:1},interstitialedProfile:{height:"100%",position:"fixed",width:"100%",filter:"blur(10px)"},withheldMessageRoot:{paddingVertical:e.spaces.large,paddingHorizontal:e.spaces.small},withheldMessageHeader:{paddingBottom:e.spaces.xxSmall}})),hr=ce.a.create(e=>({root:{backgroundColor:e.colors.cellBackground,borderTopWidth:1,borderTopStyle:"solid",borderTopColor:e.colors.borderColor,paddingVertical:e.spaces.xLarge,paddingHorizontal:e.spaces.medium}})),ur=e=>a.createElement(E.a,{userId:e.user&&e.user.id_str},({scribeNamespace:t})=>a.createElement(cr,n()({},e,{scribeNamespace:t})));t.default=g(ur)},ylAD:function(e,t,r){"use strict";r.r(t),r.d(t,"UserMediaScreen",(function(){return y}));var s=r("KEM+"),n=r.n(s),a=r("ERkP"),i=r("v6aA"),o=r("3XMw"),l=r.n(o),c=r("txMZ"),d=r("0JWC"),h=r("YjVx");const u=l.a.h10bba54,m=l.a.ia61ef0d,p=l.a.f7044029,f=()=>l.a.a3d5456f,_=()=>l.a.dfb3ead3,b=()=>l.a.ca6c276c,g=l.a.ae2be9ff,E=l.a.d55be465;class y extends a.Component{render(){const{displayBlocked:e,fullName:t,screenName:r,userId:s}=this.props,n=this.context.loggedInUserId===s,i=n?b:f,o=n?_:p,l=n?g:void 0;return a.createElement(c.a,{scribeSection:"media",userId:s},({scribeNamespace:n})=>a.createElement(d.a,{displayBlocked:e,fullName:t,loadingLabelFormatter:m,module:Object(h.a)(this.context.featureSwitches,s),screenName:r,scribeNamespace:n,timelineEmptyHeaderFormatter:o,timelineEmptyMessageFormatter:i,timelineEmptyStateButtonLabel:l,timelineEmptyStateButtonLink:"/compose/tweet",timelineTitleFormatter:E,titleFormatter:u,userId:s}))}}n()(y,"contextType",i.a),n()(y,"defaultProps",{displayBlocked:!1}),t.default=y}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.UserProfile.62a1f915.js.map